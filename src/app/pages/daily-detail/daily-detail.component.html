<div class="page-container">
  <h2>Dettaglio Giornaliero</h2>
  <p>Qui puoi visualizzare e modificare le singole voci giornaliere.</p>

  <div *ngIf="days.length === 0">
    <p>Nessun giorno per il mese selezionato.</p>
    <button class="btn btn-primary" (click)="addDay()">Aggiungi Giorno</button>
  </div>

  <div *ngIf="days.length > 0">
    <table style="width: 100%; border-collapse: collapse">
      <thead>
        <tr style="text-align: left; border-bottom: 1px solid #ddd">
          <th>Data</th>
          <th>Codice</th>
          <th>Ore</th>
          <th>Note</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let d of days; let i = index"
          style="border-bottom: 1px solid rgba(0, 0, 0, 0.04)"
        >
          <td>{{ d.date | date : "dd/MM/yyyy" }}</td>
          <td>{{ d.code }}</td>
          <td>
            <input
              type="number"
              min="0"
              max="24"
              [value]="d.hours"
              (change)="
                updateDay(i, 'hours', $any($event.target).valueAsNumber)
              "
              style="width: 80px"
            />
          </td>
          <td>
            <input
              type="text"
              [value]="d.notes"
              (change)="updateDay(i, 'notes', $any($event.target).value)"
            />
          </td>
          <td>
            <button class="btn btn-outline" (click)="removeDay(i)">
              Rimuovi
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <div style="margin-top: 12px">
      <button class="btn btn-primary" (click)="addDay()">
        Aggiungi Giorno
      </button>
    </div>
  </div>
</div>
